<style>
	input {
		text-align: center;
	}

	::placeholder {
		text-align: center;
	}
</style>

<form class="text-center" action="/posts" method="GET">
	<div class="row mb-3">
		<fieldset class="col-3">
			<legend>Search</legend>
			<input type="text" id="search" name="search" placeholder="Search" value="<%= query.search %>">
		</fieldset>
	
		<fieldset class="col-3">
			<legend>Location</legend>
			<input type="text" id="location" name="location" placeholder="Address or Zipcode" value="<%= query.location %>"> <br>
			<small><a href="#" id="find-me">Use my location</a></small><br/>
			<p id="status"></p>
		</fieldset>
	
		<fieldset class="col-2">
			<legend>Distance<br><small>(miles)</small></legend>
			<div class="d-flex align-items-center justify-content-center mb-1">
				<input class="form-check-input m-0" type="radio" name="distance" id="distance25" value="25" <%= query.distance === '25' ? 'checked' : '' %>>
				<label class="form-check-label ms-1" for="distance25">25</label>
			</div>
			<div class="d-flex align-items-center justify-content-center mb-1">
				<input class="form-check-input m-0" type="radio" name="distance" id="distance50" value="50" <%= query.distance === '50' ? 'checked' : '' %>>
				<label class="form-check-label ms-1" for="distance50">50</label>
			</div>
			<div class="d-flex align-items-center justify-content-center mb-1">
				<input class="form-check-input m-0" type="radio" name="distance" id="distance100" value="100" <%= query.distance === '100' ? 'checked' : '' %>>
				<label class="form-check-label ms-1" for="distance100">100</label>
			</div>
			<div>
				<small><a href="#" id="clear-distance">Clear</a></small>
			</div>
		</fieldset>
	
		<fieldset class="col-2">
			<legend>Price</legend>
			<div>
				<label for="min">Min</label>
				<input type="number" id="min" name="price[min]" min="0" max="10000" step="1" placeholder="Min" value="<%= query.price ? query.price.min : '' %>">
			</div>
			<div>
				<label for="max">Max</label>
				<input type="number" id="max" name="price[max]" min="0" max="10000" step="1" placeholder="Max" value="<%= query.price ? query.price.max : '' %>">
			</div>
		</fieldset>
	
		<fieldset class="col-2">
			<legend>Rating</legend>
			<input class="form-check-input m-0" type="checkbox" id="zero-stars" name="avgRating[]" value="0" <%= query.avgRating && query.avgRating.includes('0') ? 'checked' : '' %>>
			<label class="form-check-label ms-1" for="zero-stars">0 stars</label><br>
			<input class="form-check-input m-0" type="checkbox" id="one-star" name="avgRating[]" value="1" <%= query.avgRating && query.avgRating.includes('1') ? 'checked' : '' %>>
			<label class="form-check-label ms-1" for="one-star">1 star</label><br>
			<input class="form-check-input m-0" type="checkbox" id="two-stars" name="avgRating[]" value="2" <%= query.avgRating && query.avgRating.includes('2') ? 'checked' : '' %>>
			<label class="form-check-label ms-1" for="two-stars">2 stars</label><br>
			<input class="form-check-input m-0"type="checkbox" id="three-stars" name="avgRating[]" value="3" <%= query.avgRating && query.avgRating.includes('3') ? 'checked' : '' %>>
			<label class="form-check-label ms-1" for="three-stars">3 stars</label><br>
			<input class="form-check-input m-0" type="checkbox" id="four-stars" name="avgRating[]" value="4" <%= query.avgRating && query.avgRating.includes('4') ? 'checked' : '' %>>
			<label class="form-check-label ms-1" for="four-stars">4 stars</label><br>
			<input class="form-check-input m-0" type="checkbox" id="five-stars" name="avgRating[]" value="5" <%= query.avgRating && query.avgRating.includes('5') ? 'checked' : '' %>>
			<label class="form-check-label ms-1" for="five-stars">5 stars</label>
		</fieldset>
	</div>

	<div class="d-flex justify-content-center gap-3">
		<a href="/posts" class="d-flex align-items-center btn btn-sm btn-outline-danger">Reset Form</a>
		<input class="btn btn-success" type="submit">
	</div>
</form>

<script src="/javascripts/use-my-location.js"></script>